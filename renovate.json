{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "repositories": ["Soli0222/pke"],
  "packageRules": [
    {
      "matchManagers": ["helm-requirements", "helm-values"],
      "commitMessageTopic": "Helm chart {{depName}}"
    },
    {
      "matchManagers": ["terraform"],
      "commitMessageTopic": "Terraform {{depName}}"
    },
    {
      "matchManagers": ["ansible", "ansible-galaxy"],
      "commitMessageTopic": "Ansible {{depName}}"
    },
    {
      "matchManagers": ["github-actions"],
      "commitMessageTopic": "GitHub Action {{depName}}"
    },
    {
      "matchManagers": ["regex"],
      "matchDepNames": ["containerd/containerd", "opencontainers/runc", "containernetworking/plugins", "kubernetes/kubernetes"],
      "commitMessageTopic": "Infrastructure {{depName}}",
      "groupName": "Infrastructure components"
    }
  ],
  "timezone": "Asia/Tokyo",
  "prConcurrentLimit": 20,
  "prHourlyLimit": 10,
  "regexManagers": [
    {
      "fileMatch": ["ansible/inventories/group_vars/.*\\.ya?ml$"],
      "matchStrings": ["containerd_version:\\s*\"(?<currentValue>[^\"]+)\""],
      "depNameTemplate": "containerd/containerd",
      "datasourceTemplate": "github-releases",
      "versioningTemplate": "semver"
    },
    {
      "fileMatch": ["ansible/inventories/group_vars/.*\\.ya?ml$"],
      "matchStrings": ["runc_version:\\s*\"(?<currentValue>[^\"]+)\""],
      "depNameTemplate": "opencontainers/runc",
      "datasourceTemplate": "github-releases",
      "versioningTemplate": "semver"
    },
    {
      "fileMatch": ["ansible/inventories/group_vars/.*\\.ya?ml$"],
      "matchStrings": ["cni_plugins_version:\\s*\"(?<currentValue>[^\"]+)\""],
      "depNameTemplate": "containernetworking/plugins",
      "datasourceTemplate": "github-releases",
      "versioningTemplate": "semver"
    },
    {
      "fileMatch": ["ansible/inventories/group_vars/.*\\.ya?ml$"],
      "matchStrings": ["kubernetes_version:\\s*(?<currentValue>[^\\s]+)"],
      "depNameTemplate": "kubernetes/kubernetes",
      "datasourceTemplate": "github-releases",
      "versioningTemplate": "semver"
    }
  ]
}
